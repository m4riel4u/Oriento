<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Comparer deux cours</title>
    <style>
    .compare-table {
        width: 80%;
        margin: 20px auto;
        border-collapse: collapse;
        text-align: left;
    }

    .compare-table th, .compare-table td {
        border: 1px solid #ccc;
        padding: 10px;
    }

    .compare-table th {
        background-color: #007BFF;
        color: white;
    }

    .compare-table tr:nth-child(even) td {
        background-color: #f2f2f2;
    }
    </style>

</head>
<body>
    <h1> Comparer 2 cours</h1> 
    <h2>Cours #1</h2>
    <input type="text" id="courseId1" placeholder="Ex: IFT2255">
    <h2>Cours #2</h2>
    <input type="text" id="courseId2" placeholder="Ex: IFT2255">
    <button onclick="compareCourses()">Comparer</button>
    <!-- Tableau de comparaison ---> 
    <table class="compare-table">
    <thead>
        <tr>
            <th>Cours #1</th>
            <th>Cours #2</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="course1Title">Titre du cours #1</td>
            <td id="course2Title">Titre du cours #2</td>
        </tr>
        <tr>
            <td id="course1Desc">Description du cours #1</td>
            <td id="course2Desc">Description du cours #2</td>
        </tr>
        <tr>
            <td id="course1ID">ID du cours #1</td>
            <td id="course2ID">ID du cours #2</td>
        </tr>
    </tbody>
</table>

    <a class=button href="index.html"> Retour au menu principal</a>
    <script>
        function compareCourses() {
            const id1 = document.getElementById("courseId1").value.trim();
            const id2 = document.getElementById("courseId2").value.trim();

            //Appel API pour cours 1
            fetch(`/courses/${id1}`)
            .then(response =>{
                    if(!response.ok) throw new Error("Cours introuvable");
                    return response.json();
                })
                
                .then(data =>{
                document.getElementById("course1Title").textContent = data.name;
                document.getElementById("course1Desc").textContent = data.description;
                document.getElementById("course1ID").textContent = data.id;
                })
                .catch (err =>{
                    document.getElementById("course1Title").textContent = err;
                    document.getElementById("course1Desc").textContent = "";
                    document.getElementById("course1ID").textContent = "";
                });

            //Appel API pour cours 2
            fetch(`/courses/${id2}`)
            .then(response =>{
                    if(!response.ok) throw new Error("Cours introuvable");
                    return response.json();
                })
                
                .then(data =>{
                document.getElementById("course2Title").textContent = data.name;
                document.getElementById("course2Desc").textContent = data.description;
                document.getElementById("course2ID").textContent = data.id; 
                })
                .catch (err =>{
                    document.getElementById("course2Title").textContent = err;
                    document.getElementById("course2Desc").textContent = "";
                    document.getElementById("course2ID").textContent = "";
                });
        }
    </script>
</body>
</html>

