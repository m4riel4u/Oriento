<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Comparer deux cours</title>
</head>
<body>
    <h1> Comparer 2 cours</h1> 
    <h2>Cours #1</h2>
    <input type="text" id="courseId1" placeholder="Ex: IFT2255">
    <h2>Cours #2</h2>
    <input type="text" id="courseId2" placeholder="Ex: IFT2255">
    <button onclick="compareCourses()">Comparer</button>
    <div id="result1"> </div>
    <div id="result2"> </div>
    <script>
        function compareCourses() {
            const id1 = document.getElementById("courseId1").value;
            const id2 = document.getElementByID("courseId2").value;

            //Appel API pour cours 1
            fetch(`/courses/${id1}`)
            .then(response =>{
                    if(!response.ok) throw new Error("Cours introuvable");
                    return response.json();
                })
                
                .then(data =>{
                document.getElementById("result1").textContent = JSON.stringify(data, null, 2);
                })
                .catch (err =>{
                    document.getElementById("result1").textContent = err;
                });

            //Appel API pour cours 2
            fetch(`/courses/${id2}`)
            .then(response =>{
                    if(!response.ok) throw new Error("Cours introuvable");
                    return response.json();
                })
                
                .then(data =>{
                document.getElementById("result2").textContent = JSON.stringify(data, null, 2);
                })
                .catch (err =>{
                    document.getElementById("result2").textContent = err;
                });
        }
    </script>
</body>
</html>

